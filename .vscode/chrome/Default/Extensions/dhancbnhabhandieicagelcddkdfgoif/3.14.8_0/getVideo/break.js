var BSExtract={};(function(){function getVideoURL(){var choice=0;var object=document.getElementById("defaultDiv");var formatURL;if(object!=null){var prms=object.getElementsByTagName("param");if(prms.length==0){return;}}else if(document.getElementById("customvideoplayer")){var prms=document.getElementById("customvideoplayer").getElementsByTagName("param");choice=1;}else if(document.getElementById("embedplayer")){var prms=document.getElementById("embedplayer").getElementsByTagName("param");choice=0;}else if(document.getElementById("brightcove-player")){return;}for(var i=0;i<prms.length;i++){if(prms[i].name=="flashvars")var formatMap=prms[i].value;}if(formatMap==null){return;}if(choice==0){formatMap=formatMap.split("videoPath=")[1];var itemFirst=formatMap.split("icon=")[0];itemFirst=itemFirst.split("&")[0];var itemSecond=formatMap.split("icon=")[1];itemSecond=itemSecond.split("&")[0];formatURL=itemFirst+"?"+itemSecond;}else if(choice==1){formatMap=formatMap.split("videoPath=")[1];formatMap=formatMap.split("&showShare=")[0];formatURL=formatMap;}return formatURL;}function handleBeforeLoadEvent(event){var element=event.target;if(element.allowedToLoad)return;if(!(element instanceof HTMLObjectElement||element instanceof HTMLEmbedElement))return;if(element.getAttribute("classid"))return;videoURL=bvd_InfoExtractor.getVideoInfo(getVideoURL());BSMyTubeGetModule.AddUrl(videoURL,false,false);var playerDiv=document.getElementById("playerwrap");if(playerDiv==null){playerDiv=document.getElementById("customvideoplayer");}if(playerDiv==null){playerDiv=document.getElementById("embedplayer");}if(playerDiv==null){playerDiv=document.getElementById("brightcove-player");}return true;}var videoURL;function checkVideo(){videoURL=bvd_InfoExtractor.getVideoInfo(getVideoURL());if(videoURL==null){document.addEventListener("beforeload",handleBeforeLoadEvent,true);}else{BSMyTubeGetModule.AddUrl(videoURL,false,false);var playerDiv=document.getElementById("playerwrap");if(playerDiv==null){playerDiv=document.getElementById("customvideoplayer");}if(playerDiv==null){playerDiv=document.getElementById("embedplayer");}if(playerDiv==null){playerDiv=document.getElementById("brightcove-player");}return true;}}checkVideo();})();
