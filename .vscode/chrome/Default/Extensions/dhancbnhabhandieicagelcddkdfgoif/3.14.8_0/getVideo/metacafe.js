var BSExtract={};(function(){function getVideoURL(){var flashvars=bvd_InfoExtractor.extractFlashvars();flashvarsArr=flashvars.split("&");var mediaData="";var videoURL="";var gdaKey="";var tempStrArr;for(var i=0;i<flashvarsArr.length;i++){var decodeURL=unescape(flashvarsArr[i]);var pos=decodeURL.indexOf("mediaData");if(pos!=-1){var mediaData=decodeURL.replace("mediaData={","");mediaData=mediaData.substring(mediaData.indexOf("{"),mediaData.length);tempStrArr=mediaData.split(",");for(var j=0;j<tempStrArr.length;j++){pos=tempStrArr[j].indexOf('"mediaURL"');if(pos!=-1){videoURL=tempStrArr[j].substring(tempStrArr[j].indexOf(":")+2,tempStrArr[j].length-1);break;}}}}if(videoURL.length<=0)return;videoURL=videoURL.replace(/\\/g,"");for(var j=0;j<tempStrArr.length;j++){pos=tempStrArr[j].indexOf('"key"');if(pos!=-1){gdaKey=tempStrArr[j].substring(tempStrArr[j].indexOf(":")+2,tempStrArr[j].length-2);gdaKey=gdaKey.replace(/"/g,"");break;}}videoURL=videoURL+"?__gda__="+gdaKey;return videoURL;}function checkVideo(){var playerDivList=document.getElementsByTagName("object");if(playerDivList.length>2)return false;var playerDiv=playerDivList[0];playerDiv=playerDiv.parentNode.parentNode;if(!playerDiv){return false;}var videoURL=bvd_InfoExtractor.getVideoInfo(getVideoURL());if(videoURL){BSMyTubeGetModule.AddUrl(videoURL,false,false);}return true;}checkVideo();})();
