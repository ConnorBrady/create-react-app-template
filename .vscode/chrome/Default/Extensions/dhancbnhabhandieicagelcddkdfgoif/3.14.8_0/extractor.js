var bvd_InfoExtractor={extractFlashvars:function(node){if(node==undefined||typeof(node)!="object")node=document;var objectLists=node.getElementsByTagName("object");var flashvars=null;for(var i=0;i<objectLists.length;i++){paramLists=objectLists[i].childNodes;for(var j=0;j<paramLists.length;j++){if(paramLists[j].nodeType!=Node.ELEMENT_NODE)continue;var tempVars=paramLists[j].getAttribute("name");if(tempVars=="flashvars"){flashvars=paramLists[j].getAttribute("value");break;}}if(flashvars)break;}if(!flashvars){var embedLists=node.getElementsByTagName("embed");for(var i=0;i<embedLists.length;i++){flashvars=embedLists[i].getAttribute("flashvars");if(flashvars)break;}}return flashvars;},extractFlashvarsArr:function(node){if(node==undefined||typeof(node)!="object")node=document;var objectLists=document.getElementsByTagName("object");var flashvars=new Array();for(var i=0;i<objectLists.length;i++){paramLists=objectLists[i].childNodes;for(var j=0;j<paramLists.length;j++){if(paramLists[j].nodeType!=Node.ELEMENT_NODE)continue;var tempVars=paramLists[j].getAttribute("name");if(tempVars=="flashvars"){flashvars.push(paramLists[j].getAttribute("value"));break;}}}if(flashvars.length<=0){var embedLists=document.getElementsByTagName("embed");for(var i=0;i<embedLists.length;i++){flashvars.push(embedLists[i].getAttribute("flashvars"));}}return flashvars;},getWebTitle:function(){docTitle=document.title;if(docTitle==null){var titleElms=document.getElementsByTagName("title");if(titleElms&&titleElms.length>0){docTitle=titleElms[0];}else{docTitle="";}}return docTitle;},joinVideoInfo:function(videoURL,videoType,videoPageURL,videoTitle){var separator="-BVD-SEP-";var videoInfo="";var cookie=document.cookie;if(videoURL.length<=0){videoInfo+=videoPageURL;videoInfo+=separator;}else{if(!videoTitle){videoInfo+='YouTube Video';}else{videoInfo+=videoTitle;}videoInfo+=separator;videoInfo+=videoType;videoInfo+=separator;videoInfo+=videoURL;videoInfo+=separator;videoInfo+=videoPageURL;videoInfo+=separator;videoInfo+=cookie;}return videoInfo;},getVideoInfo:function(videoURL){var videoPageURL=window.location.href;var videoTitle=this.getWebTitle();var videoInfo;if(typeof(videoURL)=="string"){videoInfo=this.joinVideoInfo(videoURL,"",videoPageURL,videoTitle);}else if(typeof(videoURL)=="object"&&videoURL.length){if(videoURL.length>1){videoInfo=[];for(var i=0;i<videoURL.length;i++){videoInfo.push([videoURL[i][0],this.joinVideoInfo(videoURL[i][1],videoURL[i][2],videoPageURL,videoTitle)]);}}else{videoInfo=this.joinVideoInfo(videoURL[0][1],videoURL[0][2],videoPageURL,videoTitle);}}else{videoInfo=this.joinVideoInfo("",videoPageURL,"");}return videoInfo;}};
